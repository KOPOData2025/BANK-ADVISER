// 지능형 우대금리 분석을 위한 키워드-조건 매핑 테이블
// 실제 데이터베이스의 조건명을 기반으로 구성

export const textToConditionMapping = {
  // ===== 연령 관련 =====
  "20대": ["청년 우대", "Hi! 하나 첫거래손님", "목돈마련 응원"],
  "30대": ["청년 우대", "Hi! 하나 첫거래손님", "목돈마련 응원"],
  "40대": ["연령 우대"],
  "50대": ["연령 우대"],
  "60대": ["연령 우대"],
  "65세": ["연령 우대"],
  청년: ["청년 우대", "Hi! 하나 첫거래손님", "목돈마련 응원"],
  시니어: ["연령 우대"],
  어르신: ["연령 우대"],
  노인: ["연령 우대"],

  // ===== 직업 관련 =====
  공무원: ["모두의 영웅"],
  경찰: ["모두의 영웅"],
  소방관: ["모두의 영웅"],
  군인: ["모두의 영웅", "군급여 및 카드결제 실적"],
  교사: ["모두의 영웅"],
  의사: ["모두의 영웅"],
  변호사: ["모두의 영웅"],
  회사원: ["급여이체", "급여이체 우대", "급여 이체", "급여(가맹점대금) 이체"],
  사업자: ["급여이체", "급여이체 우대"],
  자영업: ["급여이체", "급여이체 우대"],
  프리랜서: ["급여이체", "급여이체 우대"],
  직장인: ["급여이체", "급여이체 우대", "급여 이체"],
  근로자: ["급여이체", "급여이체 우대"],
  직원: ["급여이체", "급여이체 우대"],

  // ===== 금융 상품 관련 =====
  급여이체: [
    "급여이체",
    "급여이체 우대",
    "급여 이체",
    "급여(가맹점대금) 이체",
    "급여하나 우대",
  ],
  급여: [
    "급여이체",
    "급여이체 우대",
    "급여 이체",
    "급여(가맹점대금) 이체",
    "급여하나 우대",
  ],
  급여하나: ["급여하나 우대"],
  자동이체: ["자동이체 우대"],
  정기이체: ["자동이체 우대"],
  신규: ["Hi! 하나 첫거래손님", "목돈마련 응원"],
  기존: ["주거래하나 우대", "주거래플러스 우대"],
  VIP: ["주거래하나 우대", "주거래플러스 우대"],
  우수고객: ["주거래하나 우대", "주거래플러스 우대"],
  주거래: ["주거래하나 우대", "주거래플러스 우대"],

  // ===== 카드 관련 =====
  카드: [
    "카드 결제",
    "하나카드 결제 우대",
    "하나카드 결제실적",
    "축덕카드 사용",
    "트래블로그 카드 사용실적",
  ],
  하나카드: ["하나카드 결제 우대", "하나카드 결제실적"],
  신용카드: ["카드 결제", "하나카드 결제 우대", "하나카드 결제실적"],
  체크카드: ["카드 결제", "하나카드 결제 우대", "하나카드 결제실적"],
  축덕카드: ["축덕카드 사용"],
  트래블로그: ["트래블로그 카드 사용실적"],

  // ===== 온라인/디지털 관련 =====
  온라인: ["온라인 재예치 우대"],
  모바일: [
    "하나원큐 로그인",
    "하나원큐 Push 알림동의",
    "하나원큐 Push푸시알림 동의",
  ],
  인터넷: ["온라인 재예치 우대"],
  스마트폰: ["하나원큐 로그인", "하나원큐 Push 알림동의"],
  하나원큐: [
    "하나원큐 로그인",
    "하나원큐 Push 알림동의",
    "하나원큐 Push푸시알림 동의",
    "하나원큐 축구Play 참여",
  ],
  뱅킹: ["온라인 재예치 우대", "하나원큐 로그인"],
  앱: ["하나원큐 로그인", "하나원큐 Push 알림동의"],
  푸시: ["하나원큐 Push 알림동의", "하나원큐 Push푸시알림 동의"],
  알림: ["하나원큐 Push 알림동의", "하나원큐 Push푸시알림 동의"],

  // ===== 마케팅 관련 =====
  마케팅: ["마케팅 동의", "마케팅동의"],
  동의: ["마케팅 동의", "마케팅동의"],
  광고: ["마케팅 동의", "마케팅동의"],
  정보: ["마케팅 동의", "마케팅동의"],

  // ===== 주택청약 관련 =====
  주택청약: [
    "주택청약 우대",
    "주택청약종합저축",
    "주택청약종합저축 우대",
    "주택청약종합저축 보유",
  ],
  청약: [
    "주택청약 우대",
    "주택청약종합저축",
    "주택청약종합저축 우대",
    "주택청약종합저축 보유",
  ],
  주택: ["주택청약 우대", "주택청약종합저축", "주택청약종합저축 우대"],
  아파트: ["주택청약 우대", "주택청약종합저축", "주택청약종합저축 우대"],
  집: ["주택청약 우대", "주택청약종합저축", "주택청약종합저축 우대"],

  // ===== 건강/걸음수 관련 =====
  건강: ["건강서비스 우대"],
  걸음수: ["건강서비스 우대"],
  운동: ["건강서비스 우대"],
  걸음: ["건강서비스 우대"],
  만보: ["건강서비스 우대"],
  걷기: ["건강서비스 우대"],
  헬스: ["건강서비스 우대"],
  피트니스: ["건강서비스 우대"],

  // ===== 아이/자녀 관련 =====
  아이: ["아이키움 우대"],
  자녀: ["아이키움 우대"],
  어린이: ["아이키움 우대"],
  키움: ["아이키움 우대"],
  육아: ["아이키움 우대"],
  아기: ["아이키움 우대"],
  신생아: ["광복80주년 탄생둥이"],

  // ===== 소호/사업 관련 =====
  소호: ["소호 가맹점 우대"],
  가맹점: ["소호 가맹점 우대"],
  사업: ["소호 가맹점 우대"],
  창업: ["소호 가맹점 우대"],
  스타트업: ["소호 가맹점 우대"],

  // ===== 해외 관련 =====
  해외: ["해외송금 건수 우대", "해외송금 건수 우대 보유"],
  송금: ["해외송금 건수 우대", "해외송금 건수 우대 보유"],
  외화: ["해외송금 건수 우대", "해외송금 건수 우대 보유"],
  해외송금: ["해외송금 건수 우대", "해외송금 건수 우대 보유"],

  // ===== 축구/스포츠 관련 =====
  축구: ["축덕카드 사용", "하나원큐 축구Play 참여", "성공한 덕후(응원팀 우승)"],
  스포츠: ["축덕카드 사용", "하나원큐 축구Play 참여"],
  K리그: ["축덕카드 사용", "하나원큐 축구Play 참여"],
  응원: ["축덕카드 사용", "하나원큐 축구Play 참여", "성공한 덕후(응원팀 우승)"],
  덕후: ["축덕카드 사용", "성공한 덕후(응원팀 우승)"],
  우승: ["성공한 덕후(응원팀 우승)"],

  // ===== 친구/초대 관련 =====
  친구: ["너DO?나DO! (친구초대)"],
  초대: ["너DO?나DO! (친구초대)"],
  추천: ["너DO?나DO! (친구초대)"],
  팀: ["너DO?나DO! (친구초대)"],

  // ===== 하나 합 서비스 관련 =====
  하나합: ["하나 합 서비스", "하나 합 서비스 가입 및 기관 연결"],
  오픈뱅킹: ["하나 합 서비스", "하나 합 서비스 가입 및 기관 연결"],
  연결: ["하나 합 서비스", "하나 합 서비스 가입 및 기관 연결"],
  기관: ["하나 합 서비스", "하나 합 서비스 가입 및 기관 연결"],

  // ===== 기부/봉사 관련 =====
  기부: ["기부 우대"],
  봉사: ["봉사활동 또는 동시가입 우대"],
  봉사활동: ["봉사활동 또는 동시가입 우대"],
  사회공헌: ["기부 우대", "봉사활동 또는 동시가입 우대"],
  나눔: ["기부 우대", "봉사활동 또는 동시가입 우대"],

  // ===== 국가/애국 관련 =====
  국가: ["모두의 영웅", "나라 사랑 실천 서약"],
  애국: ["나라 사랑 실천 서약"],
  나라: ["나라 사랑 실천 서약"],
  영웅: ["모두의 영웅"],
  유공자: ["모두의 영웅"],
  광복: ["광복80주년 탄생둥이"],
  "80주년": ["광복80주년 탄생둥이"],

  // ===== 소득 관련 =====
  소득: ["소득 + 플러스"],
  수입: ["소득 + 플러스"],
  연봉: ["소득 + 플러스"],
  급여: ["급여이체", "급여이체 우대", "급여 이체", "급여(가맹점대금) 이체"],

  // ===== 기초생활 관련 =====
  기초생활: ["기초생활수급자"],
  수급자: ["기초생활수급자"],
  생활보호: ["기초생활수급자"],
  저소득: ["기초생활수급자"],

  // ===== 공과금 관련 =====
  공과금: ["주택청약종합저축 보유 또는 공과금 자동이체"],
  전기: ["주택청약종합저축 보유 또는 공과금 자동이체"],
  가스: ["주택청약종합저축 보유 또는 공과금 자동이체"],
  수도: ["주택청약종합저축 보유 또는 공과금 자동이체"],
  통신: ["주택청약종합저축 보유 또는 공과금 자동이체"],

  // ===== 여행 관련 =====
  여행: ["트래블로그 카드 사용실적"],
  트래블: ["트래블로그 카드 사용실적"],
  관광: ["트래블로그 카드 사용실적"],

  // ===== 기타 일반 키워드 =====
  첫: ["Hi! 하나 첫거래손님", "목돈마련 응원"],
  신규: ["Hi! 하나 첫거래손님", "목돈마련 응원"],
  처음: ["Hi! 하나 첫거래손님", "목돈마련 응원"],
  새: ["Hi! 하나 첫거래손님", "목돈마련 응원"],
  기존: ["주거래하나 우대", "주거래플러스 우대"],
  오래: ["주거래하나 우대", "주거래플러스 우대"],
  오랫동안: ["주거래하나 우대", "주거래플러스 우대"],
  추가: ["목돈마련 응원"],
  목돈: ["목돈마련 응원"],
  마련: ["목돈마련 응원"],
  응원: ["목돈마련 응원"],
};

// 매핑 테이블 사용을 위한 헬퍼 함수
export const getConditionSuggestions = (text, conditions) => {
  if (!text || text.length < 2) {
    return [];
  }

  const suggestions = [];
  const lowerText = text.toLowerCase();

  // 키워드 매핑 검색
  Object.entries(textToConditionMapping).forEach(([keyword, conditionList]) => {
    if (lowerText.includes(keyword.toLowerCase())) {
      conditionList.forEach((condition) => {
        if (!suggestions.includes(condition)) {
          suggestions.push(condition);
        }
      });
    }
  });

  // 실제 조건과 매칭
  const matchedConditions = suggestions.filter((suggestion) =>
    conditions.some(
      (condition) =>
        condition.ConditionName.includes(suggestion) ||
        condition.Description.includes(suggestion)
    )
  );

  return matchedConditions.slice(0, 5); // 최대 5개 추천
};
